<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>多物体动画</title>
    <style>
        ul,li{
            list-style: none;
        }
        ul li{
            width: 200px;
            height: 100px;
            background: yellow;
            margin-bottom: 20px;
            filter: alpha(opacity:30);
            opacity: 0.3;
        }
    </style>
    <script>
        window.onload=function(){
            var ali=document.getElementsByTagName("li");
            for(var i=0;i<ali.length;i++){
                ali[i].index=null;
                ali[i].apha=30;
                ali[i].onmouseover=function(){
                    starMove(this,400,100);
                }

                ali[i].onmouseout=function(){
                    starMove(this,200,30);
                }
            }
        }
        //var timer=null;
        function starMove(obj,iTarget,opacity){
            clearInterval(obj.index);
            obj.index=setInterval(function(){
                var speed=(iTarget-obj.offsetWidth)/8;
                speed=speed>0?Math.ceil(speed):Math.floor(speed);
                var spe=0;
                if(obj.apha>opacity){
                    spe=-10;
                }else{
                    spe=10;
                }
                if(obj.offsetWidth==iTarget&&obj.apha==opacity){
                    clearInterval(obj.index);
                }else{
                    obj.style.width=obj.offsetWidth+speed+'px';
                    obj.apha+=spe;
                    obj.style.filter='alpha(opacity:'+obj.apha+')';
                    obj.style.opacity=obj.apha/100;
                }
            },30)
        }


    </script>
</head>
<body>
    <ul>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>
</body>
</html>